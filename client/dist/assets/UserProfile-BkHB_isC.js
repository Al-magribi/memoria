import{u as s,j as e}from"./index-VcG33-XY.js";import{f as i,b as a}from"./vendor-aDN--sgP.js";import{a as t,L as l,e as r,f as o}from"./Layout-Cm6lD_Oj.js";import{e as n}from"./index-Dp7F7cCd.js";import"./iconBase-GrFdhYN9.js";const c=()=>{var c,d,h;const{userId:m}=i(),{user:j}=s(s=>s.user),[x,u]=a.useState(null),[p,v]=a.useState(!0),[f,N]=a.useState("about");return a.useEffect(()=>{m&&m!==(null==j?void 0:j.id)&&(async()=>{try{v(!0);const s=await fetch(`/api/auth/profile/${m}`,{credentials:"include"});if(s.ok){const e=await s.json();u(e)}else console.error("Failed to fetch user profile")}catch(s){console.error("Error fetching user profile:",s)}finally{v(!1)}})()},[m,null==j?void 0:j.id]),p?e.jsx(t,{children:e.jsx("div",{className:"user-profile",children:e.jsx("div",{className:"loading-container",children:e.jsx(l,{})})})}):x?e.jsx(t,{children:e.jsx("div",{className:"user-profile",children:e.jsxs("div",{className:"profile-content",children:[e.jsxs("div",{className:"cover-photo",children:[e.jsx("img",{src:x.coverPhoto||"https://avitek.vn/wp-content/uploads/2020/08/Image-Placeholder-Dark.png",alt:"Cover"}),e.jsx("div",{className:"profile-picture",children:e.jsx("img",{src:x.profilePicture||"https://t3.ftcdn.net/jpg/05/16/27/58/360_F_516275801_f3Fsp17x6HQK0xQgDQEELoTuERO4SsWV.jpg",alt:x.fullName||"Profile"})})]}),e.jsxs("div",{className:"profile-info",children:[e.jsx("div",{className:"profile-header",children:e.jsxs("div",{className:"profile-name-section",children:[e.jsx("h1",{children:x.fullName}),e.jsxs("div",{className:"username",children:["@",x.username]}),e.jsx("p",{className:"bio",children:x.bio})]})}),e.jsxs("div",{className:"profile-stats",children:[e.jsxs("div",{className:"stat-item",title:"Posts",children:[e.jsx(n,{className:"stat-icon"}),e.jsx("span",{children:(null==(c=x.stats)?void 0:c.postsCount)||0}),e.jsx("span",{className:"stat-label",children:"Posts"})]}),e.jsxs("div",{className:"stat-item",title:"Photos",children:[e.jsx(r,{className:"stat-icon"}),e.jsx("span",{children:(null==(d=x.stats)?void 0:d.photosCount)||0}),e.jsx("span",{className:"stat-label",children:"Photos"})]}),e.jsxs("div",{className:"stat-item",title:"Friends",children:[e.jsx(o,{className:"stat-icon"}),e.jsx("span",{children:(null==(h=x.stats)?void 0:h.friendsCount)||0}),e.jsx("span",{className:"stat-label",children:"Friends"})]})]})]}),e.jsxs("div",{className:"profile-nav",children:[e.jsx("button",{className:"nav-item "+("about"===f?"active":""),onClick:()=>N("about"),children:"About"}),e.jsx("button",{className:"nav-item "+("posts"===f?"active":""),onClick:()=>N("posts"),children:"Posts"})]}),e.jsxs("div",{className:"profile-main",children:["about"===f&&e.jsxs("div",{className:"about-section",children:[e.jsxs("h3",{children:["About ",x.firstName]}),e.jsxs("div",{className:"about-content",children:[x.title&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Title:"})," ",x.title]}),x.location&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Location:"})," ",x.location]}),x.work&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Work:"})," ",x.work]}),x.education&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Education:"})," ",x.education]}),x.website&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:x.website,target:"_blank",rel:"noopener noreferrer",children:x.website})]}),x.bio&&e.jsxs("div",{className:"about-item",children:[e.jsx("strong",{children:"Bio:"})," ",x.bio]})]})]}),"posts"===f&&e.jsx("div",{className:"posts-section",children:e.jsxs("p",{children:["Posts from ",x.firstName," will appear here."]})})]})]})})}):e.jsx(t,{children:e.jsx("div",{className:"user-profile",children:e.jsxs("div",{className:"error-container",children:[e.jsx("h2",{children:"User not found"}),e.jsx("p",{children:"The user you're looking for doesn't exist or their profile is private."})]})})})};export{c as default};
//# sourceMappingURL=UserProfile-BkHB_isC.js.map
