import{u as e,B as s,C as a,D as i,j as l,y as t}from"./index-DzKEBV7U.js";import{b as n}from"./vendor-aDN--sgP.js";import{a as c,L as r}from"./Layout-D5fUhYb-.js";import{M as o}from"./index-Dp7F7cCd.js";import"./iconBase-GrFdhYN9.js";const d=()=>{const{user:d}=e(e=>e.user),[h,{isLoading:m}]=s(),[x,{isLoading:g}]=a(),[p,{isLoading:u}]=i();n.useEffect(()=>{d&&f({username:d.username||"",email:d.email||"",phone:d.phone||"",firstName:d.firstName||"",lastName:d.lastName||"",bio:d.bio||"",location:d.location||"",work:d.work||"",education:d.education||"",website:d.website||"",dateOfBirth:d.dateOfBirth?new Date(d.dateOfBirth).toISOString().split("T")[0]:"",gender:d.gender||"Male",notifications:d.notifications||{email:!0,push:!0,sms:!1,friendRequests:!0,messages:!0,likes:!0,comments:!0},privacy:d.privacy||{profileVisibility:"public",showEmail:!1,showPhone:!1,showBirthday:!0,allowFriendRequests:!0,allowMessages:!0}})},[d]);const[j,v]=n.useState("account"),[N,f]=n.useState({username:"",email:"",phone:"",firstName:"",lastName:"",bio:"",location:"",work:"",education:"",website:"",dateOfBirth:"",gender:"Male",notifications:{email:!0,push:!0,sms:!1,friendRequests:!0,messages:!0,likes:!0,comments:!0},privacy:{profileVisibility:"public",showEmail:!1,showPhone:!1,showBirthday:!0,allowFriendRequests:!0,allowMessages:!0}}),b=(e,s)=>{f(a=>({...a,[e]:s}))},y=(e,s)=>{f(a=>({...a,notifications:{...a.notifications,[e]:s}}))},k=(e,s)=>{f(a=>({...a,privacy:{...a.privacy,[e]:s}}))},w=m||g||u;return l.jsxs(c,{children:[w&&l.jsx(r,{}),l.jsx("div",{className:"setting",children:l.jsxs("div",{className:"setting-content",children:[l.jsxs("div",{className:"setting-header",children:[l.jsx("h1",{children:"Settings"}),l.jsx("p",{children:"Manage your account settings and preferences"})]}),l.jsxs("div",{className:"setting-nav",children:[l.jsx("button",{className:"nav-item "+("account"===j?"active":""),onClick:()=>v("account"),children:"Account"}),l.jsx("button",{className:"nav-item "+("profile"===j?"active":""),onClick:()=>v("profile"),children:"Profile"}),l.jsx("button",{className:"nav-item "+("privacy"===j?"active":""),onClick:()=>v("privacy"),children:"Privacy"}),l.jsx("button",{className:"nav-item "+("notifications"===j?"active":""),onClick:()=>v("notifications"),children:"Notifications"})]}),l.jsxs("div",{className:"setting-main",children:["account"===j&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h2",{children:"Account Settings"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Username"}),l.jsx("input",{type:"text",value:N.username,onChange:e=>b("username",e.target.value),placeholder:"Enter username"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email Address"}),l.jsx("input",{type:"email",value:N.email,onChange:e=>b("email",e.target.value),placeholder:"Enter email address"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",value:N.phone,onChange:e=>b("phone",e.target.value),placeholder:"Enter phone number"})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name"}),l.jsx("input",{type:"text",value:N.firstName,onChange:e=>b("firstName",e.target.value),placeholder:"Enter first name"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name"}),l.jsx("input",{type:"text",value:N.lastName,onChange:e=>b("lastName",e.target.value),placeholder:"Enter last name"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Date of Birth"}),l.jsx("input",{type:"date",value:N.dateOfBirth,onChange:e=>b("dateOfBirth",e.target.value)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Gender"}),l.jsxs("select",{value:N.gender,onChange:e=>b("gender",e.target.value),children:[l.jsx("option",{value:"Male",children:"Male"}),l.jsx("option",{value:"Female",children:"Female"}),l.jsx("option",{value:"Other",children:"Other"}),l.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]})]}),"profile"===j&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h2",{children:"Profile Information"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Bio"}),l.jsx("textarea",{value:N.bio,onChange:e=>b("bio",e.target.value),placeholder:"Tell us about yourself",rows:"3"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Location"}),l.jsx("input",{type:"text",value:N.location,onChange:e=>b("location",e.target.value),placeholder:"Enter your location"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Work"}),l.jsx("input",{type:"text",value:N.work,onChange:e=>b("work",e.target.value),placeholder:"Enter your work information"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Education"}),l.jsx("input",{type:"text",value:N.education,onChange:e=>b("education",e.target.value),placeholder:"Enter your education"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Website"}),l.jsx("input",{type:"url",value:N.website,onChange:e=>b("website",e.target.value),placeholder:"Enter your website URL"})]})]}),"privacy"===j&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h2",{children:"Privacy Settings"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Profile Visibility"}),l.jsxs("div",{className:"select-wrapper",children:[l.jsxs("select",{value:N.privacy.profileVisibility,onChange:e=>k("profileVisibility",e.target.value),children:[l.jsx("option",{value:"public",children:"Public"}),l.jsx("option",{value:"friends",children:"Friends Only"}),l.jsx("option",{value:"private",children:"Private"})]}),l.jsx(o,{className:"select-icon"})]})]}),l.jsxs("div",{className:"toggle-group",children:[l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Show Email Address"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.privacy.showEmail,onChange:e=>k("showEmail",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Show Phone Number"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.privacy.showPhone,onChange:e=>k("showPhone",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Show Birthday"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.privacy.showBirthday,onChange:e=>k("showBirthday",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Allow Friend Requests"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.privacy.allowFriendRequests,onChange:e=>k("allowFriendRequests",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Allow Messages"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.privacy.allowMessages,onChange:e=>k("allowMessages",e.target.checked)}),l.jsx("span",{className:"slider"})]})]})]})]}),"notifications"===j&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h2",{children:"Notification Preferences"}),l.jsxs("div",{className:"toggle-group",children:[l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Email Notifications"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.email,onChange:e=>y("email",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Push Notifications"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.push,onChange:e=>y("push",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"SMS Notifications"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.sms,onChange:e=>y("sms",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Friend Requests"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.friendRequests,onChange:e=>y("friendRequests",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"New Messages"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.messages,onChange:e=>y("messages",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Likes on Posts"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.likes,onChange:e=>y("likes",e.target.checked)}),l.jsx("span",{className:"slider"})]})]}),l.jsxs("div",{className:"toggle-item",children:[l.jsx("span",{children:"Comments on Posts"}),l.jsxs("label",{className:"toggle",children:[l.jsx("input",{type:"checkbox",checked:N.notifications.comments,onChange:e=>y("comments",e.target.checked)}),l.jsx("span",{className:"slider"})]})]})]})]}),l.jsxs("div",{className:"settings-actions",children:[l.jsx("button",{className:"btn-save",onClick:async()=>{var e,s;if(d)try{const{privacy:e,notifications:s,...a}=N;console.log(N),await h({userId:d.id,body:a}).unwrap(),await x({userId:d.id,body:e}).unwrap(),await p({userId:d.id,body:s}).unwrap(),t.success("Settings saved successfully!")}catch(a){let i="";(null==(e=a.data)?void 0:e.message)&&(i+=a.data.message),(null==(s=a.data)?void 0:s.error)&&(i+=i?`: ${a.data.error}`:a.data.error),i&&t.error(i)}},children:"Save Changes"}),l.jsx("button",{className:"btn-cancel",children:"Cancel"})]})]})]})})]})};export{d as default};
//# sourceMappingURL=Setting-D-Ny3Jmy.js.map
