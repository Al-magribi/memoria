{"version":3,"file":"UserProfile-BkHB_isC.js","sources":["../../src/pages/user/UserProfile.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Layout from \"../../components/layout/Layout\";\r\nimport { FaUserFriends, FaRegImages } from \"react-icons/fa\";\r\nimport { MdPostAdd } from \"react-icons/md\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Loading from \"../../components/loading/Loading\";\r\nimport \"./userProfile.scss\";\r\n\r\nconst profilePlaceholder =\r\n  \"https://t3.ftcdn.net/jpg/05/16/27/58/360_F_516275801_f3Fsp17x6HQK0xQgDQEELoTuERO4SsWV.jpg\";\r\nconst coverPhotoPlaceholder =\r\n  \"https://avitek.vn/wp-content/uploads/2020/08/Image-Placeholder-Dark.png\";\r\n\r\nconst UserProfile = () => {\r\n  const { userId } = useParams();\r\n  const { user: currentUser } = useSelector((state) => state.user);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTab, setActiveTab] = useState(\"about\");\r\n\r\n  useEffect(() => {\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch(`/api/auth/profile/${userId}`, {\r\n          credentials: \"include\",\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setUserProfile(data);\r\n        } else {\r\n          console.error(\"Failed to fetch user profile\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user profile:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (userId && userId !== currentUser?.id) {\r\n      fetchUserProfile();\r\n    }\r\n  }, [userId, currentUser?.id]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Layout>\r\n        <div className='user-profile'>\r\n          <div className='loading-container'>\r\n            <Loading />\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  if (!userProfile) {\r\n    return (\r\n      <Layout>\r\n        <div className='user-profile'>\r\n          <div className='error-container'>\r\n            <h2>User not found</h2>\r\n            <p>\r\n              The user you're looking for doesn't exist or their profile is\r\n              private.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className='user-profile'>\r\n        <div className='profile-content'>\r\n          {/* Cover Photo Section */}\r\n          <div className='cover-photo'>\r\n            <img\r\n              src={userProfile.coverPhoto || coverPhotoPlaceholder}\r\n              alt='Cover'\r\n            />\r\n\r\n            <div className='profile-picture'>\r\n              <img\r\n                src={userProfile.profilePicture || profilePlaceholder}\r\n                alt={userProfile.fullName || \"Profile\"}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Profile Info Section */}\r\n          <div className='profile-info'>\r\n            <div className='profile-header'>\r\n              <div className='profile-name-section'>\r\n                <h1>{userProfile.fullName}</h1>\r\n                <div className='username'>@{userProfile.username}</div>\r\n                <p className='bio'>{userProfile.bio}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Statistics */}\r\n            <div className='profile-stats'>\r\n              <div className='stat-item' title='Posts'>\r\n                <MdPostAdd className='stat-icon' />\r\n                <span>{userProfile.stats?.postsCount || 0}</span>\r\n                <span className='stat-label'>Posts</span>\r\n              </div>\r\n              <div className='stat-item' title='Photos'>\r\n                <FaRegImages className='stat-icon' />\r\n                <span>{userProfile.stats?.photosCount || 0}</span>\r\n                <span className='stat-label'>Photos</span>\r\n              </div>\r\n\r\n              <div className='stat-item' title='Friends'>\r\n                <FaUserFriends className='stat-icon' />\r\n                <span>{userProfile.stats?.friendsCount || 0}</span>\r\n                <span className='stat-label'>Friends</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Profile Navigation */}\r\n          <div className='profile-nav'>\r\n            <button\r\n              className={`nav-item ${activeTab === \"about\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"about\")}\r\n            >\r\n              About\r\n            </button>\r\n            <button\r\n              className={`nav-item ${activeTab === \"posts\" ? \"active\" : \"\"}`}\r\n              onClick={() => setActiveTab(\"posts\")}\r\n            >\r\n              Posts\r\n            </button>\r\n          </div>\r\n\r\n          {/* Main Content Area */}\r\n          <div className='profile-main'>\r\n            {activeTab === \"about\" && (\r\n              <div className='about-section'>\r\n                <h3>About {userProfile.firstName}</h3>\r\n                <div className='about-content'>\r\n                  {userProfile.title && (\r\n                    <div className='about-item'>\r\n                      <strong>Title:</strong> {userProfile.title}\r\n                    </div>\r\n                  )}\r\n                  {userProfile.location && (\r\n                    <div className='about-item'>\r\n                      <strong>Location:</strong> {userProfile.location}\r\n                    </div>\r\n                  )}\r\n                  {userProfile.work && (\r\n                    <div className='about-item'>\r\n                      <strong>Work:</strong> {userProfile.work}\r\n                    </div>\r\n                  )}\r\n                  {userProfile.education && (\r\n                    <div className='about-item'>\r\n                      <strong>Education:</strong> {userProfile.education}\r\n                    </div>\r\n                  )}\r\n                  {userProfile.website && (\r\n                    <div className='about-item'>\r\n                      <strong>Website:</strong>{\" \"}\r\n                      <a\r\n                        href={userProfile.website}\r\n                        target='_blank'\r\n                        rel='noopener noreferrer'\r\n                      >\r\n                        {userProfile.website}\r\n                      </a>\r\n                    </div>\r\n                  )}\r\n                  {userProfile.bio && (\r\n                    <div className='about-item'>\r\n                      <strong>Bio:</strong> {userProfile.bio}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n            {activeTab === \"posts\" && (\r\n              <div className='posts-section'>\r\n                <p>Posts from {userProfile.firstName} will appear here.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"names":["UserProfile","userId","useParams","user","currentUser","useSelector","state","userProfile","setUserProfile","useState","isLoading","setIsLoading","activeTab","setActiveTab","useEffect","id","async","response","fetch","credentials","ok","data","json","console","error","fetchUserProfile","jsxRuntimeExports","jsx","Layout","children","className","Loading","jsxs","src","coverPhoto","alt","profilePicture","fullName","username","bio","title","MdPostAdd","_a","stats","postsCount","FaRegImages","_b","photosCount","FaUserFriends","_c","friendsCount","onClick","firstName","location","work","education","website","href","target","rel"],"mappings":"oOASA,MAKMA,EAAc,eACZ,MAAAC,OAAEA,GAAWC,KACXC,KAAMC,GAAgBC,EAAaC,GAAUA,EAAMH,OACpDI,EAAaC,GAAkBC,EAAAA,SAAS,OACxCC,EAAWC,GAAgBF,EAAAA,UAAS,IACpCG,EAAWC,GAAgBJ,EAAAA,SAAS,SA4B3C,OA1BAK,EAAAA,UAAU,KAqBJb,GAAUA,KAAW,MAAAG,OAAA,EAAAA,EAAaW,KApBbC,WACnB,IACFL,GAAa,GACb,MAAMM,QAAiBC,MAAM,qBAAqBjB,IAAU,CAC1DkB,YAAa,YAGf,GAAIF,EAASG,GAAI,CACT,MAAAC,QAAaJ,EAASK,OAC5Bd,EAAea,EAAI,MAEnBE,QAAQC,MAAM,sCAETA,GACCD,QAAAC,MAAM,+BAAgCA,EAAK,CACnD,QACAb,GAAa,EAAK,GAKHc,IAElB,CAACxB,EAAQ,MAAAG,OAAA,EAAAA,EAAaW,KAErBL,EAECgB,EAAAC,IAAAC,EAAA,CACCC,SAACF,EAAAA,IAAA,MAAA,CAAIG,UAAU,eACbD,SAAAF,EAAAA,IAAC,MAAI,CAAAG,UAAU,oBACbD,SAAAF,EAAAA,IAACI,EAAQ,UAOdxB,IAiBHoB,IAACC,GACCC,SAACF,EAAAA,IAAA,MAAA,CAAIG,UAAU,eACbD,SAAAG,EAAAA,KAAC,MAAI,CAAAF,UAAU,kBAEbD,SAAA,GAACG,KAAA,MAAA,CAAIF,UAAU,cACbD,SAAA,CAAAH,EAAAC,IAAC,MAAA,CACCM,IAAK1B,EAAY2B,YAtE7B,0EAuEYC,IAAI,YAGNR,IAAC,MAAI,CAAAG,UAAU,kBACbD,SAAAH,EAAAC,IAAC,MAAA,CACCM,IAAK1B,EAAY6B,gBA9E/B,4FA+EcD,IAAK5B,EAAY8B,UAAY,mBAMnCL,KAAC,MAAI,CAAAF,UAAU,eACbD,SAAA,CAAAF,EAAAA,IAAC,OAAIG,UAAU,iBACbD,SAACG,EAAAA,KAAA,MAAA,CAAIF,UAAU,uBACbD,SAAA,GAACF,IAAA,KAAA,CAAIE,WAAYQ,aACjBL,KAAC,MAAI,CAAAF,UAAU,WAAWD,SAAA,CAAA,IAAEtB,EAAY+B,YACvCX,EAAAA,IAAA,IAAA,CAAEG,UAAU,MAAOD,WAAYU,aAKpCP,KAAC,MAAI,CAAAF,UAAU,gBACbD,SAAA,CAAAG,EAAAA,KAAC,MAAI,CAAAF,UAAU,YAAYU,MAAM,QAC/BX,SAAA,GAACF,IAAAc,EAAA,CAAUX,UAAU,cACpBH,EAAAA,IAAA,OAAA,CAAME,UAAY,OAAAa,IAAAC,YAAA,EAAAD,EAAOE,aAAc,IACvCjB,EAAAA,IAAA,OAAA,CAAKG,UAAU,aAAaD,SAAK,aAEnCG,EAAAA,KAAA,MAAA,CAAIF,UAAU,YAAYU,MAAM,SAC/BX,SAAA,GAACF,IAAAkB,EAAA,CAAYf,UAAU,cACtBH,EAAAA,IAAA,OAAA,CAAME,UAAY,OAAAiB,IAAAH,YAAA,EAAAG,EAAOC,cAAe,IACxCpB,EAAAA,IAAA,OAAA,CAAKG,UAAU,aAAaD,SAAM,cAGpCG,EAAAA,KAAA,MAAA,CAAIF,UAAU,YAAYU,MAAM,UAC/BX,SAAA,GAACF,IAAAqB,EAAA,CAAclB,UAAU,cACxBH,EAAAA,IAAA,OAAA,CAAME,UAAY,OAAAoB,IAAAN,YAAA,EAAAM,EAAOC,eAAgB,IACzCvB,EAAAA,IAAA,OAAA,CAAKG,UAAU,aAAaD,SAAO,uBAM1CG,KAAC,MAAI,CAAAF,UAAU,cACbD,SAAA,CAAAH,EAAAC,IAAC,SAAA,CACCG,UAAW,aAA0B,UAAdlB,EAAwB,SAAW,IAC1DuC,QAAS,IAAMtC,EAAa,SAC7BgB,SAAA,UAGDH,EAAAC,IAAC,SAAA,CACCG,UAAW,aAA0B,UAAdlB,EAAwB,SAAW,IAC1DuC,QAAS,IAAMtC,EAAa,SAC7BgB,SAAA,eAMHG,KAAC,MAAI,CAAAF,UAAU,eACZD,SAAA,CAAc,UAAdjB,UACE,MAAI,CAAAkB,UAAU,gBACbD,SAAA,QAAC,KAAG,CAAAA,SAAA,CAAA,SAAOtB,EAAY6C,eACvBpB,KAAC,MAAI,CAAAF,UAAU,gBACZD,SAAA,CAAAtB,EAAYiC,cACV,MAAI,CAAAV,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAM,WAAS,IAAEtB,EAAYiC,SAGxCjC,EAAY8C,iBACV,MAAA,CAAIvB,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAS,cAAS,IAAEtB,EAAY8C,YAG3C9C,EAAY+C,aACV,MAAA,CAAIxB,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAK,UAAS,IAAEtB,EAAY+C,QAGvC/C,EAAYgD,kBACV,MAAA,CAAIzB,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAU,eAAS,IAAEtB,EAAYgD,aAG5ChD,EAAYiD,gBACV,MAAA,CAAI1B,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAQ,aAAU,IAC1BH,EAAAC,IAAC,IAAA,CACC8B,KAAMlD,EAAYiD,QAClBE,OAAO,SACPC,IAAI,sBAEH9B,SAAYtB,EAAAiD,aAIlBjD,EAAYgC,YACV,MAAA,CAAIT,UAAU,aACbD,SAAA,GAAAF,IAAC,UAAOE,SAAI,SAAS,IAAEtB,EAAYgC,aAM9B,UAAd3B,SACE,OAAIkB,UAAU,gBACbD,gBAAC,IAAE,CAAAA,SAAA,CAAA,cAAYtB,EAAY6C,UAAU,sCAhI/CzB,IAACC,GACCC,SAACF,EAAAA,IAAA,MAAA,CAAIG,UAAU,eACbD,SAAAG,EAAAA,KAAC,MAAI,CAAAF,UAAU,kBACbD,SAAA,GAAAF,IAAC,MAAGE,SAAc,qBAClBF,IAAC,KAAEE,SAGH"}